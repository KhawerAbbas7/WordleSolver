<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Wordle Helper â€” Khawer Abbas Qaisrani</title>
<style>
body{background:#121213;color:#fff;font-family:'Clear Sans',Arial,sans-serif;display:flex;flex-direction:column;align-items:center;padding:1rem;margin:0}
h1{margin-top:.5rem;font-size:1.8rem}h2{margin:0;color:#bbb;font-weight:400}
#grid{display:flex;flex-direction:column;gap:8px;margin-top:1rem}
.wordle-row{display:grid;grid-template-columns:repeat(5,60px);gap:10px}
.wordle-row input{width:60px;height:60px;text-align:center;font-size:1.8rem;font-weight:bold;background-color:#3a3a3c;border:none;color:#fff;text-transform:uppercase;border-radius:6px;cursor:pointer;transition:all .2s}
.wordle-row input.state-0{background-color:#3a3a3c}
.wordle-row input.state-1{background-color:#b59f3b;color:#000}
.wordle-row input.state-2{background-color:#538d4e;color:#fff}
.wordle-row input:focus{outline:2px solid #8ab4f8}
#output{margin-top:2rem;width:100%;max-width:850px;overflow-x:auto;padding:10px;background:#1b1b1c;border-radius:10px;box-sizing:border-box}
table{border-collapse:collapse;width:100%;min-width:600px}
thead th{background:#292929;padding:10px;font-weight:bold;border-bottom:2px solid #555;text-align:center}
tbody td{padding:8px;text-align:center;border-bottom:1px solid #333}
.word-box{display:flex;align-items:center;justify-content:space-between;background:#2a2a2a;padding:5px 8px;border-radius:6px;font-family:monospace;font-size:1.1rem}
.word-box button{background:#444;color:#fff;border:none;cursor:pointer;font-size:.9rem;padding:2px 6px;border-radius:4px;transition:background .2s}
.word-box button:hover{background:#666}
.word-box button.copied{background:#4caf50!important}
button#clearBtn{background:#333;color:#fff;border:none;padding:8px 16px;border-radius:6px;margin-top:10px;font-size:1rem;cursor:pointer}
button#clearBtn:hover{background:#555}
footer{margin-top:1.2rem;font-size:.9rem;color:#aaa;text-align:center}
footer a{color:#8ab4f8;text-decoration:none}
footer a:hover{text-decoration:underline}
@media(max-width:700px){
.wordle-row{grid-template-columns:repeat(5,1fr);gap:6px}
.wordle-row input{width:100%;height:55px;font-size:1.5rem}
#output{padding:6px;font-size:.9rem}
.word-box{font-size:1rem;padding:4px 6px}
}
</style>
</head>
<body>
<h1>Wordle Helper</h1>
<h2>by Khawer Abbas Qaisrani</h2>
<button id="clearBtn">Clear</button>
<div id="grid"></div>
<div id="output">Loading dictionary...</div>
<footer>Created by <a href="https://khawi.vercel.app" target="_blank">Khawer Abbas Qaisrani</a></footer>
<script>
const grid=document.getElementById('grid')
const output=document.getElementById('output')
const clearBtn=document.getElementById('clearBtn')
let allWords=[]
for(let r=0;r<6;r++){
  const row=document.createElement('div')
  row.className='wordle-row'
  for(let c=0;c<5;c++){
    const i=document.createElement('input')
    i.maxLength=1
    i.dataset.state='0'
    i.classList.add('state-0')
    row.appendChild(i)
  }
  grid.appendChild(row)
}
async function loadWords(){
  const res=await fetch('https://raw.githubusercontent.com/tabatkins/wordle-list/main/words')
  const txt=await res.text()
  allWords=txt.split('\n').map(w=>w.trim().toLowerCase()).filter(w=>w.length===5)
  output.textContent=`Loaded ${allWords.length} words`
}

function getInputs(){return [...document.querySelectorAll('#grid input')]}

function buildConstraints(){
  const inputs=getInputs(),greens=Array(5).fill(null),yellows=[],grays=new Set()
  inputs.forEach((i,idx)=>{
    const v=i.value.toLowerCase(),s=+i.dataset.state,pos=idx%5
    if(!/[a-z]/.test(v))return
    if(s===2)greens[pos]=v
    else if(s===1)yellows.push({char:v,pos})
    else grays.add(v)
  })
  const present=new Set();greens.forEach(g=>g&&present.add(g));yellows.forEach(y=>present.add(y.char))
  const effGrays=new Set([...grays].filter(ch=>!present.has(ch)))
  return{greens,yellows,effGrays}
}

function matches(w,greens,yellows,effGrays){
  for(const g of effGrays)if(w.includes(g))return false
  for(let i=0;i<5;i++)if(greens[i]&&w[i]!==greens[i])return false
  for(const{char,pos}of yellows){if(!w.includes(char)||w[pos]===char)return false}
  return true
}

function filterWords(){
  if(!allWords.length)return
  const{greens,yellows,effGrays}=buildConstraints()
  const words=allWords.filter(w=>matches(w,greens,yellows,effGrays))
  render(words.slice(0,120))
}

function render(words){
  if(!words.length){output.innerHTML="<p style='text-align:center;'>No matching words found.</p>";return}
  const cols=6
  let html=`<table><thead><tr><th colspan="${cols}">Matching Words (${words.length})</th></tr></thead><tbody><tr>`
  words.forEach((w,i)=>{
    html+=`<td><div class="word-box"><span>${w.toUpperCase()}</span><button onclick="copyWord(this,'${w}')">ðŸ“‹</button></div></td>`
    if((i+1)%cols===0&&i!==words.length-1)html+='</tr><tr>'
  })
  const remainder=words.length%cols
  if(remainder>0)for(let i=0;i<cols-remainder;i++)html+='<td></td>'
  html+='</tr></tbody></table>'
  output.innerHTML=html
}

window.copyWord=(btn,word)=>{
  navigator.clipboard.writeText(word)
  btn.classList.add('copied')
  btn.innerText='âœ…'
  setTimeout(()=>{btn.classList.remove('copied');btn.innerText='ðŸ“‹'},1e3)
}

const inputs=document.querySelectorAll('#grid input')
inputs.forEach((i,idx,arr)=>{
  i.addEventListener('input',()=>{
    const v=i.value.toUpperCase()
    i.value=v[0]||''
    if(v&&idx<arr.length-1)arr[idx+1].focus()
    filterWords()
  })
  i.addEventListener('keydown',e=>{
    if(e.key==='Backspace'&&!i.value&&idx>0)arr[idx-1].focus()
  })
  i.addEventListener('click',()=>{
    if(!i.value)return
    let s=+i.dataset.state
    s=(s+1)%3
    i.dataset.state=s
    i.className='state-'+s
    filterWords()
  })
})

clearBtn.onclick=()=>{
  inputs.forEach(i=>{i.value='';i.dataset.state='0';i.className='state-0'})
  output.textContent='Cleared â€” start typing'
  inputs[0].focus()
}

window.onload=()=>{loadWords();inputs[0].focus()}
</script>
</body>
</html>